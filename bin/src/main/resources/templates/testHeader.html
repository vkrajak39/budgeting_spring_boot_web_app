<!doctype html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
	<meta charset="UTF-8" />
	<title>Document</title>
	
<!-- start of bootstrap scripts -->	
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<!-- end of bootstrap scripts -->
	

<!-- start of jquery scripts -->	
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<!-- end of jquery scripts -->	

	<link th:ref="stylesheet" href="header.css">
</head>


<!-- button for add record -->
<navbar> 		<button type="button" class="btn btn-primary" data-bs-toggle="modal"
			data-bs-target="#staticBackdrop" onclick="GetRecordFields()">+
			Record</button></navbar>
<hr />

<body>


<!-- Modal -->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static"
	data-bs-keyboard="false" tabindex="-1"
	aria-labelledby="staticBackdropLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<h1 class="modal-title fs-5" id="staticBackdropLabel">ADD
					RECORD</h1>
				<button type="button" class="btn-close" data-bs-dismiss="modal"
					aria-label="Close"></button>
			</div>
			<div class="modal-body">

				<!-- form starts here -->

				<form class="row g-3" action="/records/addRecord" method="post">


					<!-- grid starts here -->

					<div th:replace="~{recordCard::recordCardFragment}">  </div>


					<!-- grid ends here -->
					<div class="col-12 text-center">
						<button type="submit" class="btn  modal-form-submit-button">Add
							Record</button>
						<div id="modal-hyperlink">
							<a href="#">Add and create another</a>
						</div>
					</div>
				</form>



			</div>
			

		</div>
	</div>
</div>



<hr />

<div >
	
	
<!-- 	
	<ul>
	<li th:each="val : ${test}">
		<span th:text="${val}"></span>
	</li>
</ul>
 -->


	
	<!--	<select class="form-control" name="testList" id="testList" required>
				<option value="0">--Select a city 1--</option>
		  		<option th:each="val : ${categoryList}" th:text="${val.categoryName}" th:value="${val.categoryId}"></option>
	
			</select>
	-->	
	
	<select class="form-control" name="testList" id="testList" required>
				<option value="0">--Select a city 1--</option>
		  		<option >test</option>
	
	</select>

</div>

<botton th:onclick="testButtonClicked()">test button</botton>




	
</body>

<!-- start of bootstrap scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>

<!-- end of bootstrap scripts -->


<!-- start of time picker js cdn script vineet


<script
	src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.19.1/moment.min.js"></script>


<script
	src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>

 -->
 <!-- end of time picker js cdn script vineet -->
 

<!-- date picker version 2 -->
 <!-- 

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />

 -->
<!-- date picker version 2 end -->




 <!-- date picker  version 2-->
 <!-- 
<script>
$( function() {
	  $( "#datepicker" ).datepicker({
	    dateFormat: "dd/mm/yy",
	    changeMonth: true,
	    changeYear: true
	  });

	  $( "#datepicker-icon" ).click( function() {
		  alert("datepicker icon clicked");
	    $( "#datepicker" ).datepicker( "show" );
	  });
	});
</script>

 -->
 <!-- date picker  version 2 end-->





<!-- loding record fields function -->

<script>
	/*	function template
	 * 
	 function showStates() {

	 //getting the value selected
	 //var countrySelected= $(this).val();
	 var countrySelected = $("#countryList").val();

	 alert("testing onchange event:: country value is "
	 + countrySelected);

	 $.ajax({
	 url : 'LoadStates', // URL of your server-side script
	 type : 'POST',
	 data : {
	 country : countrySelected
	 },
	 success : function(data) {
	 // Update content of element with id 'content'
	 $('#stateList').html(data); //#stateList -> id and .html means evey thing inside #stateList will be updated
	 },
	 error : function(xhr, status, error) {
	 // Log errors to console
	 console.error(status, error);
	 }
	 });

	 }
	
	
	

	 $(document).ready(function(){
	 $("#myButton").click(function(){
	 $.ajax({
	 url: "MyServlet",
	 type: "GET",
	 success: function(response){
	 // Redirect to new page
	 window.location.href = "newPage.jsp";
	 },
	 error: function(xhr, status, error){
	 console.log("Error occurred: " + error);
	 }
	 });
	 });
	 });
	
	
	
	
	
	 */

	function GetRecordFields() {
		//alert('main called');

		GetCurrencyList();
		
		//either account or account type
		GetAccountList();
		//GetAccountTypeList();
		
		
		GetCategoryList();
		GetPaymentStatusList();
		GetPaymentTypeList();
		GetLabelList();

	}

	function GetCurrencyList() {
		//alert('currency list called');

		$.ajax({
			url : '/records/CurrencyList', // URL of your server-side script
			type : 'GET',

			success : function(data) {
				// Update content of element with id 'content'

				$('#currency_expense').html(data); //#stateList -> id and .html means evey thing inside #stateList will be updated
				$('#currency_income').html(data);
				$('#currency_from_account_transfer').html(data);
				$('#currency_to_account_transfer').html(data);

				//alert('success on click event of GetRecordFields()');			
			},
			error : function(xhr, status, error) {
				// Log errors to console
				console.error(status, error);
			}
		});

	}

	function GetAccountTypeList() {
		//alert('testing on click event of GetRecordFields()');

		$.ajax({
			url : '/records/AccountTypeList', // URL of your server-side script
			type : 'GET',

			success : function(data) {
				// Update content of element with id 'content'

				$('#Account_type_expense').html(data); //#stateList -> id and .html means evey thing inside #stateList will be updated
				$('#Account_type_income').html(data);
				$('#account_type_from_account_transfer').html(data);
				$('#account_type_to_account_transfer').html(data);

				//alert('success on click event of GetRecordFields()');			
			},
			error : function(xhr, status, error) {
				// Log errors to console
				console.error(status, error);
			}
		});

	}

	function GetAccountList() {
		//alert('testing on click event of GetRecordFields()');

		$.ajax({
			url : '/records/AccountList', // URL of your server-side script
			type : 'GET',

			success : function(data) {
				// Update content of element with id 'content'

				$('#Account_type_expense').html(data); //#stateList -> id and .html means evey thing inside #stateList will be updated
				$('#Account_type_income').html(data);
				$('#account_type_from_account_transfer').html(data);
				$('#account_type_to_account_transfer').html(data);

				//alert('success on click event of GetRecordFields()');			
			},
			error : function(xhr, status, error) {
				// Log errors to console
				console.error(status, error);
			}
		});

	}

	 function GetCategoryList() {
		    //alert('Category List called');

		    $.ajax({
		      url: "/records/CategoryList", // URL of your server-side script
		      type: "GET",

		      success: function (data) {
		        // Update content of element with id 'content'

		        $("#category").html(data); //#stateList -> id and .html means evey thing inside #stateList will be updated

		        alert('success on click event of get category list');
		      },
		      error: function (xhr, status, error) {
		        // Log errors to console
		        console.error(status, error);
		      },
		    });
		  }
	 
	 
	function GetPaymentTypeList() {
		//alert('testing on click event of GetRecordFields()');

		$.ajax({
			url : '/records/PaymentTypeList', // URL of your server-side script
			type : 'GET',

			success : function(data) {
				// Update content of element with id 'content'

				$('#payment_type').html(data); //#stateList -> id and .html means evey thing inside #stateList will be updated

				//alert('success on click event of GetRecordFields()');			
			},
			error : function(xhr, status, error) {
				// Log errors to console
				console.error(status, error);
			}
		});

	}

	function GetPaymentStatusList() {
		//alert('testing on click event of GetRecordFields()');

		$.ajax({
			url : '/records/PaymentStatusList', // URL of your server-side script
			type : 'GET',

			success : function(data) {
				// Update content of element with id 'content'

				$('#payment_status').html(data); //#stateList -> id and .html means evey thing inside #stateList will be updated

				//alert('success on click event of GetRecordFields()');			
			},
			error : function(xhr, status, error) {
				// Log errors to console
				console.error(status, error);
			}
		});

	}

	function GetLabelList() {
		//alert('testing on click event of GetRecordFields()');

		$.ajax({
			url : '/records/LabelList', // URL of your server-side script
			type : 'GET',

			success : function(data) {
				// Update content of element with id 'content'

				$('#label').html(data); //#stateList -> id and .html means evey thing inside #stateList will be updated

				//alert('success on click event of GetRecordFields()');			
			},
			error : function(xhr, status, error) {
				// Log errors to console
				console.error(status, error);
			}
		});

	}

	function ClearInputFeilds() {
		//ralert("clearing form")
		var amount_expense = document.getElementById('amount_expense');
		var amount_income = document.getElementById('amount_income');
		var amount_from_account_transfer = document
				.getElementById('amount_from_account_transfer');
		var amount_to_account_transfer = document
				.getElementById('amount_to_account_transfer');
		var time = document.getElementById('time');
		var date = document.getElementById('date');
		var payer = document.getElementById('payer');
		var note = document.getElementById('note');
		var place = document.getElementById('place');

		// Clear the values of the input fields
		amount_expense.value = '';
		amount_income.value = '';
		amount_from_account_transfer.value = '';
		amount_to_account_transfer.value = '';
		time.value = '';
		date.value = '';
		payer.value = '';
		note.value = '';
		place.value = '';

	}

	function clearForm() {
		GetRecordFields();
		ClearInputFeilds();
	}
</script>


<!-- script for  form toggle -->

<script>
	function showExpense() {

		var transferform = document.getElementById('transfer-form');
		var incomeform = document.getElementById('income-form');
		var expenseform = document.getElementById('expense-form');

		var expenseButton = document.getElementById('expenseButton');
		var incomeButton = document.getElementById('incomeButton');
		var transferButton = document.getElementById('transferButton');

		expenseform.style.display = 'block';
		incomeform.style.display = 'none';
		transferform.style.display = 'none';

		expenseButton.style.color = 'black';
		expenseButton.style.backgroundColor = 'white';

		incomeButton.style.color = 'white';
		incomeButton.style.backgroundColor = '#ec407a';

		transferButton.style.color = 'white';
		transferButton.style.backgroundColor = '#ec407a';
		clearForm();

	}

	function showIncome() {
		var transferform = document.getElementById('transfer-form');
		var incomeform = document.getElementById('income-form');
		var expenseform = document.getElementById('expense-form');

		var expenseButton = document.getElementById('expenseButton');
		var incomeButton = document.getElementById('incomeButton');
		var transferButton = document.getElementById('transferButton');

		expenseform.style.display = 'none';
		incomeform.style.display = 'block';
		transferform.style.display = 'none';

		expenseButton.style.color = 'white';
		expenseButton.style.backgroundColor = '#ec407a';

		incomeButton.style.color = 'black';
		incomeButton.style.backgroundColor = 'white';

		transferButton.style.color = 'white';
		transferButton.style.backgroundColor = '#ec407a';
		clearForm();
	}

	function showTransfer() {
		var transferform = document.getElementById('transfer-form');
		var incomeform = document.getElementById('income-form');
		var expenseform = document.getElementById('expense-form');

		var expenseButton = document.getElementById('expenseButton');
		var incomeButton = document.getElementById('incomeButton');
		var transferButton = document.getElementById('transferButton');

		expenseform.style.display = 'none';
		incomeform.style.display = 'none';
		transferform.style.display = 'block';

		expenseButton.style.color = 'white';
		expenseButton.style.backgroundColor = '#ec407a';

		incomeButton.style.color = 'white';
		incomeButton.style.backgroundColor = '#ec407a';

		transferButton.style.color = 'black';
		transferButton.style.backgroundColor = 'white';

		clearForm();
	}
</script>

<!-- testing script 



<script>

function testButtonClicked()
{
	alert("testButtonClicked()");
	GetTestList();

}



function GetTestList() {
    alert('GetTestList List called');

 
    $.ajax({
      url: "/records/GetTestList", // URL of your server-side script
      type: "GET",

      success: function (data) {
        // Update content of element with id 'content'

        $("#testList").html(data); //#stateList -> id and .html means evey thing inside #stateList will be updated

        alert('success on click event of get category list');
      },
      error: function (xhr, status, error) {
        // Log errors to console
        console.error(status, error);
      },
    });
 
    
    
    
  }


</script>

-->

</html>