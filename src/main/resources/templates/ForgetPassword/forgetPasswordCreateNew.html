<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="google-signin-client_id"
          content="352994676645-k4rb493atqqgu300avnhpjiuf87bf288.apps.googleusercontent.com">
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <title>Track Your Budget and Expenses</title>
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet"/>
    <!-- MDB -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.2.0/mdb.min.css" rel="stylesheet"/>
    <style>
        .gradient-custom-2 {
            /* fallback for old browsers */
            background: #fccb90;
            /* Chrome 10-25, Safari 5.1-6 */
            background: -webkit-linear-gradient(to right, #ee7724, #d8363a, #dd3675, #b44593);
            /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
            background: linear-gradient(to right, #ee7724, #d8363a, #dd3675, #b44593);
        }

        @media (min-width: 768px) {
            .gradient-form {
                height: 100vh !important;
            }
        }

        @media (min-width: 769px) {
            .gradient-custom-2 {
                border-top-right-radius: .3rem;
                border-bottom-right-radius: .3rem;
            }
        }
    </style>
</head>
<body>
<section class="h-100 gradient-form" style="background-color: #eee;">
    <div class="container py-5 h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
            <div class="col-xl-10">
                <div class="card rounded-3 text-black">
                    <div class="row g-0">
                        <div class="col-lg-6">
                            <div class="card-body p-md-5 mx-md-4">
                                <div class="text-center">
                                    <img src="images/exavalu-logo.png" style="width: 185px;" alt="logo"/>
                                    <h4 class="mt-1 mb-5 pb-1">Forgot Password</h4>
                                </div>
                                <form action="forgotPasswordUpdate" method="post">
                                    <p>Enter your the current password send to your email Id and change it to a new one
                                    </p>
                                    <div class="form-outline mb-4">
                                        <input type="email" id="email" name="email" class="form-control"
                                               placeholder="Phone number or email address"
                                               th:value="${FORGOTPASSWORDEMAIL}" readonly/>
                                        <label class="form-label" for="email"
                                               th:text="${FORGOTPASSWORDEMAIL}"></label>
                                    </div>
                                    <div class="form-outline mb-4">
                                        <input type="password" id="oldpassword" class="form-control"
                                               name="oldpassword" required/>
                                        <label class="form-label" for="oldpassword">Enter Password Sent in Mail</label>
                                    </div>
                                    <div class="form-outline mb-4">
                                        <input type="password" id="password" class="form-control" name="password"
                                               required/>
                                        <label class="form-label" for="password">New Password</label>
                                    </div>
                                    <div class="form-outline mb-4">
                                        <input type="password" id="confirmPassword" name="confirmPassword"
                                               class="form-control" required/>
                                        <label class="form-label" for="confirmPassword">Confirm New Password</label>
                                    </div>
                                    <div class="text-center pt-1 mb-5 pb-1">
                                        <button class="btn btn-primary btn-block fa-lg gradient-custom-2 mb-3"
                                                type="submit" th:onclick="return ValidatePassword()">Submit
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div class="col-lg-6 d-flex align-items-center gradient-custom-2">
                            <div class="text-white px-3 py-4 p-md-5 mx-md-4">
                                <h4 class="mb-4">We are more than just a platform for budget tracking.</h4>
                                <p class="small mb-0">"Empowering financial control effortlessly, Track expenses, manage
                                    savings seamlessly. Your path to financial freedom starts here, Simplify budgeting with
                                    ease-of-use sheer."</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
    function ValidatePassword() {
        alert("enter")
        var password = $("#password").val();
        var confirmPassword = $("#confirmPassword").val();
        var oldPassword = $("#oldpassword").val(); // Corrected ID
        if (password !== confirmPassword) {
            alert("Passwords do not match");
            return false; // Prevent form submission
        }
        if (password === "" || confirmPassword === "" || oldPassword === "") { // Corrected equality check
            alert("Enter all fields");
            return false;
        }
        // AJAX request to call the servlet
        return true; // Prevent default form submission
    }
</script>
<script src="https://apis.google.com/js/platform.js" async defer></script>
<!-- MDB -->
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.2.0/mdb.umd.min.js"></script>
</body>
</html>
