<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Title</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<link href="css/header.css" rel="stylesheet">

	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">


	<!-- Chart links dashboard -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
		integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<script src="https://canvasjs.com/assets/script/canvasjs.min.js" type="text/javascript"></script>
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
	<style>
		body {
			background-color: #EFF0F2;
		}
	</style>
	<style>
		
	</style>

</head>
<body>
	<div th:replace="header"></div>
	<canvas id="budgetChart" width="800" height="400"></canvas>
	<script th:inline="javascript">
	       /*<![CDATA[*/
	       /* Get budgetDetails from Thymeleaf model */
	       var budgetDetails = /*[[${budgetDetails}]]*/ []
		   console.log(budgetDetails)
	
	       // Extract category names, budget amounts, and actual expenses
	       var categoryNames = budgetDetails.map(function(item) {
	           return item[0];
	       });
	
	       var budgetAmounts = budgetDetails.map(function(item) {
	           return item[1];
	       });
	
	       var actualExpenses = budgetDetails.map(function(item) {
	           return item[2];
	       });
	
	       // Create chart
	       var ctx = document.getElementById('budgetChart').getContext('2d');
	       var myChart = new Chart(ctx, {
	           type: 'bar',
	           data: {
	               labels: categoryNames,
	               datasets: [{
	                   label: 'Budget Amount',
	                   data: budgetAmounts,
	                   backgroundColor:'#00008B',
	                   borderColor: 'rgba(255, 99, 132, 1)',
	                   borderWidth: 1
	               }, {
	                   label: 'Actual Expense',
	                   data: actualExpenses,
	                   backgroundColor:'#C70039',
	                   borderColor: 'rgba(54, 162, 235, 1)',
	                   borderWidth: 1
	               }]
	           },
	           options: {
	               scales: {
	                   y: {
	                       beginAtZero: true
	                   }
	               }
	           }
	       });
	       /*]]>*/
	   </script>
</body>
</html>